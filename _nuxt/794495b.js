(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{234:function(t,e,r){"use strict";var n=r(8),l=r(4),o=r(85),c=r(13),d=r(10),f=r(39),m=r(177),x=r(61),v=r(5),h=r(63),y=r(62).f,_=r(29).f,k=r(12).f,C=r(179).trim,w="Number",N=l.Number,I=N.prototype,P=f(h(I))==w,E=function(t){var e,r,n,l,o,c,d,code,f=x(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=C(f)).charCodeAt(0))||45===e){if(88===(r=f.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:n=2,l=49;break;case 79:case 111:n=8,l=55;break;default:return+f}for(c=(o=f.slice(2)).length,d=0;d<c;d++)if((code=o.charCodeAt(d))<48||code>l)return NaN;return parseInt(o,n)}return+f};if(o(w,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var T,A=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof A&&(P?v((function(){I.valueOf.call(r)})):f(r)!=w)?m(new N(E(e)),r,A):E(e)},L=n?y(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;L.length>S;S++)d(N,T=L[S])&&!d(A,T)&&k(A,T,_(N,T));A.prototype=I,I.constructor=A,c(l,w,A)}},236:function(t,e,r){"use strict";r.r(e);r(234);var n={name:"ThreadList",props:{threads:{type:Array,default:[]},total:{type:Number,default:0}},data:function(){return{useStaggeredFade:!1}},methods:{formatDate:function(t){return new Date(t).toLocaleDateString("no",{year:"numeric",month:"long",day:"numeric"})},beforeEnter:function(t){t.style.opacity=0},enter:function(t,e){var r=25*Number(t.dataset.indexNumber);Velocity(t,{opacity:1},{easing:"easeInSine",delay:r,complete:e})},leave:function(t,e){var r=5*Number(t.dataset.indexNumber);Velocity(t,{opacity:1},{easing:"easeInSine",delay:r,complete:e})}}},l=r(30),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-grow flex-col"},[r("div",{staticClass:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},[r("div",{staticClass:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},[r("div",{staticClass:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},[r("table",{staticClass:"min-w-full divide-y divide-gray-200"},[t._m(0),t._v(" "),r("transition-group",{staticClass:"bg-white divide-y divide-gray-200",attrs:{name:"staggered-fade",tag:"tbody",css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,leave:t.leave}},t._l(t.threads,(function(e,n){return r("tr",{key:e.threadid,staticClass:"bg-white",attrs:{"data-index-number":n}},[r("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[r("div",{staticClass:"flex items-center"},[r("div",[r("div",{staticClass:"text-sm font-medium text-dykkeprat-red hover:underline"},[r("NuxtLink",{attrs:{to:"/threads/"+e.slug}},[r("span",{domProps:{innerHTML:t._s(e.title)}})])],1),t._v(" "),r("div",{staticClass:"text-sm text-gray-500"},[t._v("\n                      "+t._s(e.postusername)+"\n                    ")])]),t._v(" "),5485===e.threadid?r("div",{staticClass:"ml-4"},[r("a",{staticClass:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-dykkeprat-red text-white",attrs:{target:"_blank",href:"https://www.facebook.com/groups/dykkeprat"}},[t._v("🍿\n                      "),r("span",{staticClass:"ml-2 hover:underline"},[t._v("Praten fortsetter på Facebook ...")])])]):t._e()])]),t._v(" "),r("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[r("span",{staticClass:"px-2 inline-flex text-xs leading-5 font-semibold"},[t._v("\n                  "+t._s(e.replycount)+"\n                ")]),t._v(" "),r("div",{staticClass:"text-sm text-gray-900"})]),t._v(" "),r("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[r("span",{staticClass:"px-2 inline-flex text-xs leading-5 font-semibold"},[t._v("\n                  "+t._s(e.views)+"\n                ")]),t._v(" "),r("div",{staticClass:"text-sm text-gray-900"})]),t._v(" "),r("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[r("span",{staticClass:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-dykkeprat-grey text-white"},[t._v("\n                  "+t._s(e.forum.title)+"\n                ")]),t._v(" "),r("div",{staticClass:"text-sm text-gray-900"})]),t._v(" "),r("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"text-sm font-medium text-gray-900"},[t._v("\n                    "+t._s(t.formatDate(e.createdAt))+"\n                  ")])])])])})),0)],1)])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"bg-gray-50"},[r("tr",[r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n                Tittel\n              ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n                Svar\n              ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n                Visninger\n              ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n                Forum\n              ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n                Dato\n              ")])])])}],!1,null,null,null);e.default=component.exports},250:function(t,e,r){"use strict";r.r(e);var n=r(6),l=(r(35),r(120),r(41),r(236)),o=r(91),c={name:"Threads",components:{ThreadList:l.default,Logo:o.default},computed:{firstItem:function(){return 1!=this.page&&this.page?(this.page-1)*this.perPage+1:"1"},lastItem:function(){return 1!=this.page&&this.page?this.page==this.lastPage?this.firstItem+this.lastPageCount-1:this.firstItem+this.perPage-1:this.total<this.perPage?this.total:this.perPage}},methods:{setPage:function(t){this.$router.push({query:Object.assign({},this.$route.query,{page:t})})}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,q,l,o,c,d,f,m,x,v,h,y,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.route,q=n.query.q,l=n.query.page?n.query.page:1,o=r("threads",{deep:!0}),q&&(o=o.search(q)),e.next=7,o.fetch();case 7:return c=e.sent,d=10,f=c.length,m=Math.ceil(f/d),x=f%d,v=Math.ceil(f/d),h=function(){return 1===l?0:l===m?f-x:(l-1)*d},y=r("threads",{deep:!0}),q&&(y=y.search(q)),e.next=18,y.limit(d).sortBy("createdAt","desc").skip(h()).fetch();case 18:return _=e.sent,e.abrupt("return",{q:q,paginatedThreads:_,total:f,numberOfPages:v,page:l,lastPage:m,lastPageCount:x,perPage:d,skipNumber:h});case 20:case"end":return e.stop()}}),e)})))()},watch:{q:function(){var t=Object.assign({},this.$route.query);delete t.page,t.q=this.q,this.$router.push({query:t})}},watchQuery:!0},d=r(30),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"flex items-center p-4"},[r("div",{staticClass:"flex-none hidden md:block"},[r("Logo")],1),t._v(" "),r("div",{staticClass:"flex-grow md:pl-4 space-y-2"},[r("form",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"w-full border-2 focus:outline-none focus:ring-2 focus:ring-dykkeprat-red focus:border-transparent rounded-lg hover:shadow-lg",attrs:{type:"search",name:"search",id:"search",placeholder:"Søk i alle innlegg"},domProps:{value:t.q},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.q=e.target.value)}}})]),t._v(" "),r("p",{staticClass:"ml-1 text-gray-darkest text-sm"},[t._v("\n        Forumet ble\n        "),r("NuxtLink",{staticClass:"text-dykkeprat-red hover:underline",attrs:{to:"/threads/dykkeprat-moter-facebook"}},[t._v("stengt")]),t._v("\n        i oktober 2015. Her kan du søke i alle tråder og innlegg fra 2009 til\n        2015. Vi fortsetter praten på\n        "),r("a",{staticClass:"text-dykkeprat-red hover:underline",attrs:{target:"_blank",href:"https://www.facebook.com/groups/dykkeprat"}},[t._v("Facebook")]),t._v(".\n      ")],1)])]),t._v(" "),t.total?r("ThreadList",{staticClass:"mt-8",attrs:{threads:t.paginatedThreads,total:t.total}}):r("div",{staticClass:"mt-4 flex p-4 flex-col text-center space-y-4"},[r("p",{staticClass:"text-5xl"},[t._v("💣")]),t._v(" "),r("p",[t._v("Klarte ikke å finne noen innlegg som matcher '"),r("span",{staticClass:"font-bold"},[t._v(t._s(t.q))]),t._v("'.")])]),t._v(" "),t.total>t.perPage?r("div",{staticClass:"flex flex-col items-center md:flex-row md:justify-between mt-4 space-y-2 md:space-y-0"},[r("div",{staticClass:"ml-4 text-center"},[r("p",{staticClass:"text-sm text-gray-700"},[t._v("\n          Viser\n          "),r("span",{staticClass:"font-medium"},[t._v(t._s(t.firstItem))]),t._v("\n          til\n          "),r("span",{staticClass:"font-medium"},[t._v(t._s(t.lastItem))]),t._v("\n          av\n          "),r("span",{staticClass:"font-medium"},[t._v(t._s(t.total))]),t._v("\n          innlegg\n        ")])]),t._v(" "),r("paginate",{attrs:{pageCount:t.numberOfPages,"page-range":2,clickHandler:t.setPage,prevText:"⬅️",nextText:"➡️",containerClass:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","page-class":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50","page-link-class":"page-link-class","prev-class":"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50","prev-link-class":"prev-link-class","next-class":"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50","active-class":"font-bold","disabled-class":"disabled:opacity-50"}})],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Logo:r(91).default,ThreadList:r(236).default})}}]);